digraph G {
  "rank1" [label="" style="invis" width="0"]
  "rank2" [label="" style="invis" width="0"]
  "rank3" [label="" style="invis" width="0"]
  "rank4" [label="" style="invis" width="0"]
  "rank5" [label="" style="invis" width="0"]
  "rank6" [label="" style="invis" width="0"]
  "rank7" [label="" style="invis" width="0"]
  "rank8" [label="" style="invis" width="0"]
  "rank9" [label="" style="invis" width="0"]
  "rank10" [label="" style="invis" width="0"]
  "rank11" [label="" style="invis" width="0"]
  "rank12" [label="" style="invis" width="0"]
  "rank13" [label="" style="invis" width="0"]
  "rank14" [label="" style="invis" width="0"]
  "rank15" [label="" style="invis" width="0"]
  "rank16" [label="" style="invis" width="0"]
  "rank17" [label="" style="invis" width="0"]
  "rank18" [label="" style="invis" width="0"]
  "rank19" [label="" style="invis" width="0"]
  "rank20" [label="" style="invis" width="0"]
  "rank21" [label="" style="invis" width="0"]
  "rank22" [label="" style="invis" width="0"]
  "rank23" [label="" style="invis" width="0"]
  "rank24" [label="" style="invis" width="0"]
  "rank25" [label="" style="invis" width="0"]
  "rank26" [label="" style="invis" width="0"]
  "rank27" [label="" style="invis" width="0"]
  "rank28" [label="" style="invis" width="0"]
  "rank29" [label="" style="invis" width="0"]
  "rank30" [label="" style="invis" width="0"]
  "rank30" [label="" style="invis" width="0"]
  "rank31" [label="" style="invis" width="0"]
  "rank32" [label="" style="invis" width="0"]
  "rank33" [label="" style="invis" width="0"]
  "rank34" [label="" style="invis" width="0"]
  "rank35" [label="" style="invis" width="0"]
  "rank36" [label="" style="invis" width="0"]
  "rank37" [label="" style="invis" width="0"]
  "rank38" [label="" style="invis" width="0"]
  "rank39" [label="" style="invis" width="0"]
  "rank40" [label="" style="invis" width="0"]
  "rank41" [label="" style="invis" width="0"]
  "rank42" [label="" style="invis" width="0"]
  "rank43" [label="" style="invis" width="0"]
  "rank44" [label="" style="invis" width="0"]
  "rank45" [label="" style="invis" width="0"]
  "rank46" [label="" style="invis" width="0"]
  "rank47" [label="" style="invis" width="0"]
  "rank48" [label="" style="invis" width="0"]
  "rank49" [label="" style="invis" width="0"]
  "rank50" [label="" style="invis" width="0"]
  "rank51" [label="" style="invis" width="0"]
  "rank52" [label="" style="invis" width="0"]
  "rank53" [label="" style="invis" width="0"]
  "rank54" [label="" style="invis" width="0"]
  "rank55" [label="" style="invis" width="0"]
  "rank56" [label="" style="invis" width="0"]
  "rank57" [label="" style="invis" width="0"]
  "rank58" [label="" style="invis" width="0"]
  "rank59" [label="" style="invis" width="0"]
  "rank60" [label="" style="invis" width="0"]
  "rank61" [label="" style="invis" width="0"]
  "rank62" [label="" style="invis" width="0"]
  "rank63" [label="" style="invis" width="0"]
  "rank64" [label="" style="invis" width="0"]
  "rank65" [label="" style="invis" width="0"]
  "rank66" [label="" style="invis" width="0"]
  "rank67" [label="" style="invis" width="0"]
  "rank68" [label="" style="invis" width="0"]
  "rank69" [label="" style="invis" width="0"]
  "rank70" [label="" style="invis" width="0"]
  "rank71" [label="" style="invis" width="0"]
  "rank72" [label="" style="invis" width="0"]
  "rank73" [label="" style="invis" width="0"]
  "rank74" [label="" style="invis" width="0"]
  "rank75" [label="" style="invis" width="0"]
  "rank76" [label="" style="invis" width="0"]
  "rank77" [label="" style="invis" width="0"]
  "rank78" [label="" style="invis" width="0"]
  "rank79" [label="" style="invis" width="0"]
  "rank80" [label="" style="invis" width="0"]
  "rank81" [label="" style="invis" width="0"]
  "rank82" [label="" style="invis" width="0"]
  "rank83" [label="" style="invis" width="0"]
  "rank84" [label="" style="invis" width="0"]
  "rank85" [label="" style="invis" width="0"]
  "rank86" [label="" style="invis" width="0"]
  "rank87" [label="" style="invis" width="0"]
  "rank88" [label="" style="invis" width="0"]
  "rank89" [label="" style="invis" width="0"]
  "rank90" [label="" style="invis" width="0"]
  "rank91" [label="" style="invis" width="0"]
  "rank92" [label="" style="invis" width="0"]
  "rank93" [label="" style="invis" width="0"]
  "rank94" [label="" style="invis" width="0"]
  "rank95" [label="" style="invis" width="0"]
  "rank96" [label="" style="invis" width="0"]
  "rank97" [label="" style="invis" width="0"]
  "rank98" [label="" style="invis" width="0"]
  "rank99" [label="" style="invis" width="0"]
  "rank100" [label="" style="invis" width="0"]

  "rank1" -> "rank2"  [style="invis"]
  "rank2" -> "rank3"  [style="invis"]
  "rank3" -> "rank4"  [style="invis"]
  "rank4" -> "rank5"  [style="invis"]
  "rank5" -> "rank6"  [style="invis"]
  "rank6" -> "rank7"  [style="invis"]
  "rank7" -> "rank8"  [style="invis"]
  "rank8" -> "rank9"  [style="invis"]
  "rank9" -> "rank10"  [style="invis"]
  "rank10" -> "rank11"  [style="invis"]
  "rank11" -> "rank12"  [style="invis"]
  "rank12" -> "rank13"  [style="invis"]
  "rank13" -> "rank14"  [style="invis"]
  "rank14" -> "rank15"  [style="invis"]
  "rank15" -> "rank16"  [style="invis"]
  "rank16" -> "rank17"  [style="invis"]
  "rank17" -> "rank18"  [style="invis"]
  "rank18" -> "rank19"  [style="invis"]
  "rank19" -> "rank20"  [style="invis"]
  "rank20" -> "rank21"  [style="invis"]
  "rank21" -> "rank22"  [style="invis"]
  "rank22" -> "rank23"  [style="invis"]
  "rank23" -> "rank24"  [style="invis"]
  "rank24" -> "rank25"  [style="invis"]
  "rank25" -> "rank26"  [style="invis"]
  "rank26" -> "rank27"  [style="invis"]
  "rank27" -> "rank28"  [style="invis"]
  "rank28" -> "rank29"  [style="invis"]
  "rank29" -> "rank30"  [style="invis"]
  "rank30" -> "rank30"  [style="invis"]
  "rank30" -> "rank31"  [style="invis"]
  "rank31" -> "rank32"  [style="invis"]
  "rank32" -> "rank33"  [style="invis"]
  "rank33" -> "rank34"  [style="invis"]
  "rank34" -> "rank35"  [style="invis"]
  "rank35" -> "rank36"  [style="invis"]
  "rank36" -> "rank37"  [style="invis"]
  "rank37" -> "rank38"  [style="invis"]
  "rank38" -> "rank39"  [style="invis"]
  "rank39" -> "rank40"  [style="invis"]
  "rank40" -> "rank41"  [style="invis"]
  "rank41" -> "rank42"  [style="invis"]
  "rank42" -> "rank43"  [style="invis"]
  "rank43" -> "rank44"  [style="invis"]
  "rank44" -> "rank45"  [style="invis"]
  "rank45" -> "rank46"  [style="invis"]
  "rank46" -> "rank47"  [style="invis"]
  "rank47" -> "rank48"  [style="invis"]
  "rank48" -> "rank49"  [style="invis"]
  "rank49" -> "rank50"  [style="invis"]
  "rank50" -> "rank51"  [style="invis"]
  "rank51" -> "rank52"  [style="invis"]
  "rank52" -> "rank53"  [style="invis"]
  "rank53" -> "rank54"  [style="invis"]
  "rank54" -> "rank55"  [style="invis"]
  "rank55" -> "rank56"  [style="invis"]
  "rank56" -> "rank57"  [style="invis"]
  "rank57" -> "rank58"  [style="invis"]
  "rank58" -> "rank59"  [style="invis"]
  "rank59" -> "rank60"  [style="invis"]
  "rank60" -> "rank61"  [style="invis"]
  "rank61" -> "rank62"  [style="invis"]
  "rank62" -> "rank63"  [style="invis"]
  "rank63" -> "rank64"  [style="invis"]
  "rank64" -> "rank65"  [style="invis"]
  "rank65" -> "rank66"  [style="invis"]
  "rank66" -> "rank67"  [style="invis"]
  "rank67" -> "rank68"  [style="invis"]
  "rank68" -> "rank69"  [style="invis"]
  "rank69" -> "rank70"  [style="invis"]
  "rank70" -> "rank71"  [style="invis"]
  "rank71" -> "rank72"  [style="invis"]
  "rank72" -> "rank73"  [style="invis"]
  "rank73" -> "rank74"  [style="invis"]
  "rank74" -> "rank75"  [style="invis"]
  "rank75" -> "rank76"  [style="invis"]
  "rank76" -> "rank77"  [style="invis"]
  "rank77" -> "rank78"  [style="invis"]
  "rank78" -> "rank79"  [style="invis"]
  "rank79" -> "rank80"  [style="invis"]
  "rank80" -> "rank81"  [style="invis"]
  "rank81" -> "rank82"  [style="invis"]
  "rank82" -> "rank83"  [style="invis"]
  "rank83" -> "rank84"  [style="invis"]
  "rank84" -> "rank85"  [style="invis"]
  "rank85" -> "rank86"  [style="invis"]
  "rank86" -> "rank87"  [style="invis"]
  "rank87" -> "rank88"  [style="invis"]
  "rank88" -> "rank89"  [style="invis"]
  "rank89" -> "rank90"  [style="invis"]
  "rank90" -> "rank91"  [style="invis"]
  "rank91" -> "rank92"  [style="invis"]
  "rank92" -> "rank93"  [style="invis"]
  "rank93" -> "rank94"  [style="invis"]
  "rank94" -> "rank95"  [style="invis"]
  "rank95" -> "rank96"  [style="invis"]
  "rank96" -> "rank97"  [style="invis"]
  "rank97" -> "rank98"  [style="invis"]
  "rank98" -> "rank99"  [style="invis"]
  "rank99" -> "rank100"  [style="invis"]


  {
    rank="same"
    "internal language"
    "rank1"
  }
  {
    rank="same"
    "false"
    "rank2"
  }
  {
    rank="same"
    "rank3"
    "R : CRing"
    "a1 : Spec(R)"
  }
  {
    rank="same"
    "Mon"
    "rank10"
  }

  // http://math.mit.edu/~dspivak/teaching/sp18/C7-Logic_of_behavior.pdf#page=8
  // subobject classifier is the internal language of the topos

  "{0, 1, 2}" [peripheries="2"]
  "{0, 1}" [peripheries="2"]
  "{0, 2}"
  "{1, 2}"
  "{0}"
  "{1}"
  "{2}" [peripheries="2"]
  "{0, 1, 2}" -> "{0, 1}"
  "{0, 1, 2}" -> "{0, 2}"
  "{0, 1, 2}" -> "{1, 2}"
  "{0, 1}" -> "{0}"
  "{0, 1}" -> "{1}"
  "{0, 2}" -> "{0}"
  "{0, 2}" -> "{2}"
  "{1, 2}" -> "{1}"
  "{1, 2}" -> "{2}"
  "{}" -> "{0, 1, 2}"
  "{0}" -> "{1}" [label="<"]
  "{1}" -> "{2}" [label="<"]
  "{0}" -> "{0}" [label="+0"]
  "{1}" -> "{1}" [label="+0"]
  "{2}" -> "{2}" [label="+0"]
  "{0}" -> "{1}" [label="+1"]
  "{1}" -> "{2}" [label="+1"]
  "{2}" -> "{0}" [label="+1"]
  "{0}" -> "{2}" [label="+2"]
  "{1}" -> "{0}" [label="+2"]
  "{2}" -> "{1}" [label="+2"]
  {
    rank="same"
    "{0}"
    "{1}"
    "{2}"
  }

  "Mon" -> "{}" [dir="back"]

  "Mon" -> "Ab" [color="black:white:black"]
  "Ab" -> "Ring" [color="black:white:black"]
  "Ring" -> "CRing" [color="black:white:black"]

  // presheaf
  "{2}" -> "F({2})" [color="black:white:black" label="F"]
  "{0, 1}" -> "F({0, 1})" [color="black:white:black" label="F"]
  "{0, 1, 2}" -> "F({0, 1, 2})" [color="black:white:black" label="F"]

  "F({0, 1, 2})" -> "F({2})" [label="restriction"]
  "F({0, 1, 2})" -> "F({0, 1})" [label="restriction"]
  
  // sheaf
  "F({0, 1})" -> "s" [dir="back"]
  "F({0, 1})" -> "t" [dir="back"]
  "F({2})" -> "s" [dir="back"]
  "F({2})" -> "t" [dir="back"]
  "s" -> "t" [dir="none" label="="]
  {
    rank="same"
    "s"
    "t"
  }

  // sheaf of rings
  "Ring" -> "F({2})" [dir="back"]
  "Ring" -> "F({0, 1})" [dir="back"]
  "Ring" -> "F({0, 1, 2})" [dir="back"]
  {
    rank="same"
    "F({2})"
    "F({0, 1})"
    "F({0, 1, 2})"
  }

  "R" -> "Spec(R)" [color="black:white:black" label="prime ideals"]
  // functor https://en.wikipedia.org/wiki/Spectrum_of_a_ring#Functorial_perspective
  "Spec(R)"
  "Spec(R)" -> "a1" [dir="back" label="ideal"]
  "Spec(R)" -> "a2" [dir="back" label="ideal"]
  "Spec(R)" -> "a3" [dir="back" label="ideal"]
  "Ab" -> "a1" [dir="back"]
  "Ab" -> "a2" [dir="back"]
  "Ab" -> "a3" [dir="back"]
  "a1" -> "F({2})" [label="point"]
  "a2" -> "F({0, 1})" [label="point"]
  "a3" -> "F({0, 1, 2})" [label="point"]

  "CRing" -> "Z" [dir="back"]
  "CRing" -> "R" [dir="back"]
  "Z" -> "R" [dir="none"]
  {
    rank="same"
    "Z"
    "R"
  }
  "2Z" -> "a1" [dir="none"]
  "3Z" -> "a2" [dir="none"]
  "5Z" -> "a3" [dir="none"]
  {
    rank="same"
    "Spec(R)"
    "Spec(Z)"
  }
  {
    rank="same"
    "a1"
    "a2"
    "a3"
    "2Z"
    "3Z"
    "5Z"
    "7Z"
    "11Z"
  }
  "Z" -> "Spec(Z)" [color="black:white:black"]
  "Spec(Z)" -> "2Z" [dir="back"]
  "2Z" -> "4Z" [dir="back"]
  "2Z" -> "6Z" [dir="back"]
  "2Z" -> "8Z" [dir="back"]
  "4Z" -> "8Z" [dir="back"]
  "2Z" -> "10Z" [dir="back"]
  "Spec(Z)" -> "3Z" [dir="back"]
  "3Z" -> "6Z" [dir="back"]
  "3Z" -> "9Z" [dir="back"]
  "Spec(Z)" -> "5Z" [dir="back"]
  "5Z" -> "10Z" [dir="back"]
  "5Z" -> "15Z" [dir="back"]
  "Spec(Z)" -> "7Z" [dir="back"]
  "Spec(Z)" -> "11Z" [dir="back"]

  "a1" -> "a1 : Spec(R)"
  "Spec(R)" -> "a1 : Spec(R)"


  "false" [xlabel="initial object"]
  "true" [xlabel="terminal object"]
  "internal language" [xlabel="Heyting algebra"]
  "internal language" -> "false"
  "a1 : Spec(R)" [xlabel="0-truncated object"] // proposition
  "R : CRing" [xlabel="0-truncated object"]
  "0-truncated object 3" [xlabel="0-truncated object"]
  "a1 : Spec(R)" -> "R : CRing ^ a1 : Spec(R)"
  "R : CRing" -> "R : CRing ^ a1 : Spec(R)"
  "R : CRing ^ a1 : Spec(R)" [xlabel="logical conjunction"]
  "R : CRing ^ a1 : Spec(R)" -> "proposition about a1, Spec(R)"
  "R : CRing" -> "a1 : Spec(R)"
  "a1 : Spec(R)" -> "proposition about a1, Spec(R)"
  "false" -> "a1 : Spec(R)"
  "false" -> "R : CRing"
  "false" -> "0-truncated object 3"
  "a1 : Spec(R)" -> "R : CRing" [label="internal-hom" xlabel="implication"]
  "a1 : Spec(R)" -> "false" [label="internal-hom" xlabel="negation"]
  "a1 : Spec(R)" -> "true"
  "R : CRing" -> "true" 
  "0-truncated object 3" -> "true"
  "R : CRing ^ a1 : Spec(R)" -> "true"
}